<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<meta name="author" content="Thomas Nilefalk">
<title>Actors in containers</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge {
  color: #faf6e4;
  background-color: #122b3b;
}
pre.rouge .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
pre.rouge .gp {
  color: #a8e1fe;
  font-weight: bold;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6c8b9f;
  font-style: italic;
}
pre.rouge .cp {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .err {
  color: #fefeec;
  background-color: #cc0000;
}
pre.rouge .gr {
  color: #cc0000;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kv {
  color: #f6dd62;
  font-weight: bold;
}
pre.rouge .o, pre.rouge .ow {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .p, pre.rouge .pi {
  color: #4df4ff;
}
pre.rouge .gd {
  color: #cc0000;
}
pre.rouge .gi {
  color: #b2fd6d;
}
pre.rouge .ge {
  font-style: italic;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
pre.rouge .kc {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .kn {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .gh {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .gu {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .no {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nc {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nd {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nn {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .bp {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .ne {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nl {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .nt {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .ld {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .ss {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sb, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .sh, pre.rouge .sx, pre.rouge .sr, pre.rouge .s1 {
  color: #fff0a6;
  font-weight: bold;
}
pre.rouge .sa {
  color: #f6dd62;
  font-weight: bold;
}
pre.rouge .se {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .sc {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .si {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .nb {
  font-weight: bold;
}
pre.rouge .ni {
  color: #999999;
  font-weight: bold;
}
pre.rouge .w {
  color: #BBBBBB;
}
pre.rouge .go {
  color: #BBBBBB;
}
pre.rouge .nf, pre.rouge .fm {
  color: #a8e1fe;
}
pre.rouge .py {
  color: #a8e1fe;
}
pre.rouge .na {
  color: #a8e1fe;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #a8e1fe;
  font-weight: bold;
}
</style>
<style>
/* Alan Code Notation Mockup */
.listingblock.alan pre {
  color: #333333;
  background: #F8F8F8;
}

/* Shell/CMD */
div.literalblock.shell pre {
  background-color: #0C0C0C;
  color: #F2F2F2;
}
div.literalblock.shell pre .conum {
  background: #FFF945 !important;
  color: #0C0C0C !important;
}

/* Game Transcripts */
.exampleblock.gametranscript > .content {
  background: #F7FDFF;
  color: #0089B6;
  border-color: #CCF2FF;
}

/* Commentary Blocks */
div.openblock.commentary {
  padding-left: 6em;
}

/* Inline Highlighting */
span.green {
  background-color: #A3FF8A;
}

/* Highlight Theme for Alan -- based on "github.com style" for highlight.js, by Vasily Polovnyov */
.listingblock code[data-lang=alan]::before {
  color: #A09F93;
}

.listingblock pre[class~=rouge][lang=alan] {
  background-color: #F8F8F8;
  border-radius: 4px;
  border: 1px solid #F8F8F8;
}
.listingblock pre[class~=rouge][lang=alan] > code {
  color: #333333;
  font-family: inherit;
  font-size: inherit;
}
.listingblock pre[class~=rouge][lang=alan] > code > span {
  font-style: normal;
  font-weight: normal;
}
.listingblock pre[class~=rouge][lang=alan] > code > span > .conum[data-value] {
  background: black !important;
  color: white !important;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.m {
  color: #333333;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.lin {
  color: #999988;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.n {
  color: #333333;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.o {
  color: #333333;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.p {
  color: #990000;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.dl {
  color: #008080;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.s2 {
  color: #008080;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.s1 {
  color: #008080;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.se {
  color: #FF980B;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.si {
  color: #D572F1;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.c1 {
  color: #999988;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.cm {
  color: #999988;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.kr {
  color: #990000;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.nb {
  color: #000080;
}
.listingblock pre[class~=rouge][lang=alan] > code > span.nx {
  color: #000080;
}
.listingblock pre[class~=rouge][lang=alan] > code mark {
  background-color: #CCFF00;
  background-image: linear-gradient(to right, #CCFF00 0%, #F5FF87 100%);
}
.listingblock pre[class~=rouge][lang=alan] > code span.green {
  background-color: #A3FF8A;
  background-image: linear-gradient(to right, #A3FF8A 0%, rgba(163, 255, 138, 0.5) 100%);
}

/* Rouge Theme for Alan Library -- Base16 Eighties, by Chris Kempson */
.listingblock.lib code[data-lang=alan]::before {
  color: #A09F93;
}

.listingblock.lib pre[class~=rouge][lang=alan] {
  background-color: #2D2D2D;
  border-radius: 4px;
  border: 1px solid #A09F93;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code {
  color: #D3D0C8;
  font-family: inherit;
  font-size: inherit;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span {
  font-style: normal;
  font-weight: normal;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span > .conum[data-value] {
  background: white !important;
  color: black !important;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.m {
  color: #F99157;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.lin {
  color: #747369;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.n {
  color: #D3D0C8;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.o {
  color: #D3D0C8;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.p {
  color: #F2777A;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.dl {
  color: #008080;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.s2 {
  color: #99CC99;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.s1 {
  color: #99CC99;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.se {
  color: #F99157;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.si {
  color: #D27B53;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.c1 {
  color: #999988;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.cm {
  color: #999988;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.kr {
  color: #F2777A;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.nb {
  color: #FFCC66;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code > span.nx {
  color: #6699CC;
}
.listingblock.lib pre[class~=rouge][lang=alan] > code mark {
  background-color: #CCFF00;
  background-image: linear-gradient(to right, #CCFF00 0%, #F5FF87 100%);
}
.listingblock.lib pre[class~=rouge][lang=alan] > code span.green {
  background-color: #A3FF8A;
  background-image: linear-gradient(to right, #A3FF8A 0%, rgba(163, 255, 138, 0.5) 100%);
}

/* Rouge Theme for Alan tutorial -- Base16 Google, by Seth Wright */
.listingblock.tutorial code[data-lang=alan]::before {
  color: #A09F93;
}

.listingblock.tutorial pre[class~=rouge][lang=alan] {
  background-color: #FFFFFF;
  border-radius: 4px;
  border: 1px solid #E0E0E0;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code {
  color: #373B41;
  font-family: inherit;
  font-size: inherit;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span {
  font-style: normal;
  font-weight: normal;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span > .conum[data-value] {
  background: black !important;
  color: white !important;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.m {
  color: #373B41;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.lin {
  color: #C5C8C6;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.n {
  color: #373B41;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.o {
  color: #373B41;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.p {
  color: #CC342B;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.dl {
  color: #198844;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.s2 {
  color: #198844;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.s1 {
  color: #198844;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.se {
  color: #F96A38;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.si {
  color: #3971ED;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.c1 {
  color: #969896;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.cm {
  color: #969896;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.kr {
  color: #CC342B;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.nb {
  color: #FBA922;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code > span.nx {
  color: #3971ED;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code mark {
  background-color: #F5FF87;
  background-image: none;
}
.listingblock.tutorial pre[class~=rouge][lang=alan] > code span.green {
  background-color: #dbf8e6;
  background-image: none;
}

/*# sourceMappingURL=rouge.css.map */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Actors in containers</h1>
<div class="details">
<span id="author" class="author">Thomas Nilefalk</span><br>
<span id="email" class="email"><a href="mailto:thomas@nilefalk.se">thomas@nilefalk.se</a></span><br>
<span id="revdate">2018-10-23</span>
<br><span id="revremark">Alan 3beta6</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_question_1_can_actors_move">Question 1: Can actors move?</a>
<ul class="sectlevel2">
<li><a href="#_discussion">Discussion</a>
<ul class="sectlevel3">
<li><a href="#_the_hero">The hero</a></li>
<li><a href="#_other_actors">Other actors</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_question_2_what_if_an_actor_cant_be_extracted">Question 2: What if an actor can&#8217;t be extracted?</a>
<ul class="sectlevel2">
<li><a href="#_discussion_2">Discussion</a>
<ul class="sectlevel3">
<li><a href="#_the_hero_2">The hero</a></li>
<li><a href="#_other_actors_2">Other actors</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_question_3_can_the_hero_get_out_of_the_bedroom">Question 3: Can the hero get out of the bed(room)?</a>
<ul class="sectlevel2">
<li><a href="#_discussion_3">Discussion</a></li>
</ul>
</li>
<li><a href="#_question_4_how_would_an_actor_be_described">Question 4: How would an actor be described?</a>
<ul class="sectlevel2">
<li><a href="#_discussion_4">Discussion</a></li>
<li><a href="#_other_actors_3">Other actors</a>
<ul class="sectlevel3">
<li><a href="#_descriptions">Descriptions</a></li>
<li><a href="#_mentioned">Mentioned</a></li>
</ul>
</li>
<li><a href="#_the_hero_3">The hero</a></li>
<li><a href="#_the_container">The container</a></li>
</ul>
</li>
<li><a href="#_question_5_can_the_hero_escape_from_the_cage">Question 5: Can the hero escape from the cage?</a>
<ul class="sectlevel2">
<li><a href="#_discussion_5">Discussion</a></li>
</ul>
</li>
<li><a href="#_question_6_can_actors_randomly_be_located_in_containers">Question 6: Can actors randomly be located in containers?</a></li>
<li><a href="#_question_7_is_the_seat_occupied">Question 7: Is the seat occupied?</a></li>
<li><a href="#_question_8_do_limits_apply">Question 8: Do limits apply?</a></li>
<li><a href="#_summary">Summary</a></li>
<li><a href="#_design_decisions_so_far">Design Decisions (so far&#8230;&#8203;)</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In current versions of Alan v3 actors are prohibited to enter containers.
This document tries to investigate the implications and repercussions of allow this.
A number of questions are put, mostly in terms of scenarios.
Each question is discussed and analysed with further actions listed.
Testcases required are also presented.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A primary design concern with Alan is that out-of-the-box the author should get reasonable behavior, but that behaviour must be possible to replace, tweak or leave out completely.
One example of this is containers and how they are described:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>without any description it gets a default description that lists the instances in the container</p>
</li>
<li>
<p>authors can tweak the way all container lists are presented using message overrides</p>
</li>
<li>
<p>authors can add a description to the container object and if so have to cater for the listing with the possibility to</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>leave the listing out completely or conditionally (depending on an attribute for example)</p>
</li>
<li>
<p>use the built in <code>List</code> statement</p>
</li>
<li>
<p>use specialised lists by iterating over instances in the container (<code>For Each i In This&#8230;&#8203;</code>)</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This example shows the true flexibility of the Alan language, allowing much to be achieved with very little but yet allowing more complex behaviour with little extra work.
If actors are to be allowed in containers, the above must also be true for every aspect of this.</p>
</div>
<div class="paragraph">
<p>As an extra complication we want to make any change to the langauge and the game format backwards compatible, if possible.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_1_can_actors_move"><a class="anchor" href="#_question_1_can_actors_move"></a>Question 1: Can actors move?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>What happens if an actor is in a container and then moves to another location?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
A: 
</td>
<td class="hdlist2">
<p>The actor should be removed from the container and located in the new location.</p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_discussion"><a class="anchor" href="#_discussion"></a>Discussion</h3>
<div class="paragraph">
<p><em>Isn&#8217;t this automatic when the player types a direction?
Because the hero is at the location anyway, even if he&#8217;s in a container there.
If the container is locked or closed, the game author should just take care of the checks.</em></p>
</div>
<div class="paragraph">
<p>The two cases where the actor is the hero and when the actor is not the hero must be discussed separately.
Here we are considering the basic case with no <code>Extract</code> checks.</p>
</div>
<div class="sect3">
<h4 id="_the_hero"><a class="anchor" href="#_the_hero"></a>The hero</h4>
<div class="paragraph">
<p>As exits only apply to the hero, if the player types a directional command while the hero is in a container the location of the hero is still a location with possible exits.
Which should be applied as usual.
The only difference is ensure that the exits are found by using the <em>location</em> of the hero and not its <em>where</em> (which is in the container).</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate the hero out of a container into another location.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate the hero out of the container into the location of the container.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate the hero out of a container into another location with prohibiting <code>Exit</code> checks.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Action:   
</td>
<td class="hdlist2">
<p>Decide what happens if <code>Exit</code> checks prohibit the hero to leave.
Should he still be in the container or not? Probably.
By default we don&#8217;t know what the container represents.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_other_actors"><a class="anchor" href="#_other_actors"></a>Other actors</h4>
<div class="paragraph">
<p>Other actors move by &#8220;floating&#8221; around and just jumping to the new location, so if no <code>Extract</code> check prohibits the move, the actor will simply leave the container, where ever that might be, and be located at the new location.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate an actor out of a container into another location.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate an actor out of the container into the location of the container.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate an actor out of a container into another location with prohibiting <code>Exit</code> checks.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_2_what_if_an_actor_cant_be_extracted"><a class="anchor" href="#_question_2_what_if_an_actor_cant_be_extracted"></a>Question 2: What if an actor can&#8217;t be extracted?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>What happens if an actor is in a container that prohibits removals using the <code>Extract</code> clause and the actor moves to another location?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
A: 
</td>
<td class="hdlist2">
<p>The actor should abort its script when trying to move and remain in the container.</p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_discussion_2"><a class="anchor" href="#_discussion_2"></a>Discussion</h3>
<div class="paragraph">
<p><em>This is what happens already now when you try to <code>Locate</code> an object out of such a container (or if you try to <code>Empty</code> the container).
Also an event trying to take an object from such a container would not be successful.
A script would probably fail similarly?</em></p>
</div>
<div class="paragraph">
<p>It is true that locating something from a container is subject to the <code>Extract</code> checks, and so would an actor.
An event would abort after a failing extract, and so would a script.</p>
</div>
<div class="paragraph">
<p>Again we need to consider the two cases of the hero and other actors separately.</p>
</div>
<div class="sect3">
<h4 id="_the_hero_2"><a class="anchor" href="#_the_hero_2"></a>The hero</h4>
<div class="paragraph">
<p>The players command will have to be aborted in the same way as if he tried to take something out of the container or move through an exit with prohibiting checks.
The hero should stay in the container.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate the hero out of a container into another location with prohibiting <code>Extract</code> checks.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate the hero out of a container into the same location with prohibiting <code>Extract</code> checks.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_other_actors_2"><a class="anchor" href="#_other_actors_2"></a>Other actors</h4>
<div class="paragraph">
<p>The actors script step will be aborted.
But what happens with the script execution?
There are three options:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The step is considered ok and the script advances to the next step.</p>
</li>
<li>
<p>The script execution is stopped, as if the aborted step was the last in the current script.</p>
</li>
<li>
<p>The step is retried until it succeeds.</p>
</li>
<li>
<p>Introducing a new clause to catch this type of errors in scripts.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It seems like #1 is wrong.
It could lead to unimaginable spurious errors by allowing the actor to continue executing with the assumption that the previous step succeeded.
But the author could actually cater for this case.</p>
</div>
<div class="paragraph">
<p>Although #2 and #3 both have merits, they seem to be to much automation and would make overriding the default behaviour, continuing or not retrying resp., much harder on the author.</p>
</div>
<div class="paragraph">
<p>Number 4, although it can be done, is non-optimal since that would change the language and thus the format of the <strong>.a3c</strong> files.
It would also introduce a new concept, that must be handled by the author, in the mental model of language, <em>failure</em>.
The repercussions are unknown.</p>
</div>
<div class="paragraph">
<p>As one datapoint the current implementation lets the script continue if an actor tries to locate something out of a container with an <code>Extract</code> clause that prohibits it.
This means case #1 would be consistent with the current behaviour of actor scripts executing and failing during actions, and probably exactly what would happen if actors in containers would be implemented in the simplest way possible, namely according to case #1.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>Locate an actor out of a container into another location with prohibiting <code>Extract</code> checks.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Testcase: 
</td>
<td class="hdlist2">
<p>In a script locate an actor out of a container with prohibiting <code>Extract</code> checks.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Action:   
</td>
<td class="hdlist2">
<p>Decide if the current implementation is ok, namely that failing steps are considered completed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Sidenote: 
</td>
<td class="hdlist2">
<p>How would one ensure that the planned action of the actor was actually achieved?
A couple of ideas:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Separate scripts for aquiring the object in question from other actions (not combining them) then the &#8220;stealing&#8221; script would always end after the attempt to get the object, failing or not.
Rules or other scripts can then restart the stealing script if necessary.</p>
</li>
<li>
<p>Rules?</p>
</li>
<li>
<p>Step Wait Until?</p>
</li>
</ul>
</div>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_3_can_the_hero_get_out_of_the_bedroom"><a class="anchor" href="#_question_3_can_the_hero_get_out_of_the_bedroom"></a>Question 3: Can the hero get out of the bed(room)?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>What happens if the hero is in the bed and types &#8216;out&#8217; (when &#8216;out&#8217; is an exit out of the bedroom)?</p>
</td>
</tr>
<tr>
<td class="hdlist1">
A: 
</td>
<td class="hdlist2">
<p>The hero should be located out of the bed first and then move out of the bedroom.
Also, the hero could move straight out of the bedroom (and not located directly in the bedroom first), if nothing (e.g. <code>Extract</code>) prohibits the movement.
But a message that the hero gets out of bed could be in place anyway.</p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_discussion_3"><a class="anchor" href="#_discussion_3"></a>Discussion</h3>
<div class="paragraph">
<p><em>This can be done in an <code>Exit Does</code> statement, by the author.</em></p>
</div>
<div class="paragraph">
<p>True, but see <strong>Question 1</strong>.</p>
</div>
<div class="paragraph">
<p>Additionally, to do the printout of the &#8220;You raise out of bed first.&#8221;, the <code>Exit</code> would need extra <code>If</code> statements to check if the hero is in the bed.
This would be ok if this was the only case.
But if there where a lot of beds and chairs and what not, that the hero needed to get out of before moving to another room, this would be extremely tedious to handle in every exit.
Especially if the containers could be moved around so you don&#8217;t actually know which checks that need them&#8230;&#8203;</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_4_how_would_an_actor_be_described"><a class="anchor" href="#_question_4_how_would_an_actor_be_described"></a>Question 4: How would an actor be described?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>How would the hero be described if inside a container?
How would any actor be described if inside a container?</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There could be an automatic way, such as</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>look</em><br>
<strong>The bedroom (in bed) &#8230;&#8203;.</strong><br></p>
</div>
<div class="paragraph">
<p>&gt; <em>look</em><br>
<strong>Bedroom</strong><br>
You are in the bedroom. Jack is here (in bed).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_discussion_4"><a class="anchor" href="#_discussion_4"></a>Discussion</h3>
<div class="paragraph">
<p><em>This is the one point which could be handy to have built-in somehow.
It <strong>could</strong> be done manually by the author:</em></p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>look</em><br>
<strong>Bedroom</strong><br>
(in bed)<br>
Blah blah&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="paragraph">
<p><em>Here the addition &#8220;in bed&#8221; would have to be added to the description of the location.</em></p>
</div>
<div class="paragraph">
<p><em>or, in the other case above,</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" lang="alan"><code class="language-alan" data-lang="alan"><span class="kr">THE</span><span class="w"> </span><span class="n">jack</span><span class="w"> </span><span class="kr">ISA</span><span class="w"> </span><span class="n">PERSON</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">bedroom</span><span class="w">
  </span><span class="kr">MENTIONED</span><span class="w">
    </span><span class="kr">IF</span><span class="w"> </span><span class="n">jack</span><span class="w"> </span><span class="kr">IN</span><span class="w"> </span><span class="n">bed</span><span class="w">
      </span><span class="kr">THEN</span><span class="w"> </span><span class="dl">"</span><span class="s2">Jack (in bed)</span><span class="dl">"</span><span class="w">
      </span><span class="kr">ELSE</span><span class="w"> </span><span class="dl">"</span><span class="s2">Jack</span><span class="dl">"</span><span class="w">
    </span><span class="kr">END</span><span class="w"> </span><span class="kr">IF</span><span class="p">.</span><span class="w">
</span><span class="kr">END</span><span class="w"> </span><span class="kr">THE</span><span class="p">.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>but some kind of automatic system for this would save the author&#8217;s time.</em></p>
</div>
<div class="paragraph">
<p>I totally agree that a built in way of handling this might be valuable.
But it&#8217;s not that simple or clearcut.
But there is an interesting duality with containers vis a vis actors and vis a vis objects.</p>
</div>
<div class="paragraph">
<p>Containers are by default described using an implicit <code>List</code> statement.
The default for this is &#8220;The &lt;container&gt; contains&#8221;, followed by the objects that are in the container.
And here we are actually talking about instances of <code>object</code> (or its subclasses).
Instances of <code>entity</code> cannot be in containers at all, and instances of <code>thing</code> are &#8216;invisible&#8217;.</p>
</div>
<div class="paragraph">
<p>But for actors it might be the other way around.
Maybe the container would say nothing about the actor (?) but the actor would say that it is in the container?</p>
</div>
<div class="paragraph">
<p>Again we might need to discuss a number of different cases, the hero vs. other actors and describing vs. just mentioning.
And there is also the case of the container&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_other_actors_3"><a class="anchor" href="#_other_actors_3"></a>Other actors</h3>
<div class="sect3">
<h4 id="_descriptions"><a class="anchor" href="#_descriptions"></a>Descriptions</h4>
<div class="paragraph">
<p>Maybe it is possible to arrive at some logical structure here.
E.g. other actors when described should work like containers.
If there is no description clause the default actor print out (&#8220;&lt;actor&gt; is here&#8221;) could be amended with &#8220;in the &lt;container&gt;&#8221; or even replaced with &#8220;&lt;actor&gt; is in the &lt;container&gt;&#8221;.
But the default is only used if there is no explicit <code>Description</code> clause.
To draw on the similarity to containers, if the container has a description, the listing of its content must be added explicitly in that description.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Action:   
</td>
<td class="hdlist2">
<p>Figure out a simple way to indicate the actors &#8220;containment&#8221; that can be added to explicit descriptions.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Action:   
</td>
<td class="hdlist2">
<p>Decide on a way to do the amended printout so that it can be customized as needed and preferably don&#8217;t break backwards compatibility (HARD!)</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_mentioned"><a class="anchor" href="#_mentioned"></a>Mentioned</h4>
<div class="paragraph">
<p>When another actor than the hero is to be mentioned, should that output be amended with &#8220;in &#8230;&#8203;&#8221;?
No, I don&#8217;t think so.
Consider</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>give mr anderson the spoon</em><br>
You give mr anderson the spoon.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>We certainly don&#8217;t want</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>give mr anderson the spoon</em><br>
You give mr anderson (on the chair) the spoon.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_hero_3"><a class="anchor" href="#_the_hero_3"></a>The hero</h3>
<div class="paragraph">
<p>For the hero the customary way to indicate standing/sitting etc. is to amend the location title:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p><strong>Bedroom (on the bed)</strong><br>
&gt;</p>
</div>
</div>
</div>
<div class="paragraph">
<p>And since the hero is only described when explicitly requested by <code>Describe hero.</code> and never mentioned in any special context this should suffice, I think.
But &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>What about the difference between the &#8220;in&#8221; and &#8220;on&#8221;?</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Action:   
</td>
<td class="hdlist2">
<p>How do we know if we should print &#8220;in&#8221; or &#8220;on&#8221; or something else?
Probably need some extra customization possibilities.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There is actually one situation where the hero might get mentioned and that is if the player examines the container that the hero is in and that container would list the hero. (see below)</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_container"><a class="anchor" href="#_the_container"></a>The container</h3>
<div class="paragraph">
<p>Another question is how the container should handle actors &#8216;inside itself&#8217; when it comes to output.
Should it list them too?</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>x bed</em><br>
The bed is a normal kingsize bed. The bed contains a pillow, you and your mistress.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>So, yes, probably.
But also consider:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>look</em><br>
<strong>The bedroom (in bed)</strong><br>
This is your bed room. There is a bed here. The bed contains a pillow, you and your mistress.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Although not optimal this probably works as a reasonable default.
And, considering the theory that mentioned actors should not indicate their containment, this probably works as a reasonable default.
If mentioned actors would indicate their containment we would get</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>look</em><br>
<strong>The bedroom (in bed)</strong><br>
This is your bed room. There is a bed here. The bed contains a pillow, you (in bed) and your mistress.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>which clearly is not what we want.</p>
</div>
<div class="paragraph">
<p>To not list actors of the container seems a less natural choice.
But, again this would be the default and the author must have the possibility to</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>modify the description of the container and fairly easily replicate the standard behaviour (using <code>List This.</code>)</p>
</li>
<li>
<p>modify the way containers presents the items in itself (using <code>For Each i In This Do <strong>formatting</strong> End For.</code>)</p>
</li>
<li>
<p>modify which type of items, if any, in the container gets listed (using <code>For Each i In This, Isa <strong>something</strong> Do &#8230;&#8203;</code>)</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_5_can_the_hero_escape_from_the_cage"><a class="anchor" href="#_question_5_can_the_hero_escape_from_the_cage"></a>Question 5: Can the hero escape from the cage?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>What happens if the hero is in a cage and types &#8216;w&#8217; (out of the room)?
Can a check in <code>Extract</code> prohibit exit commands?</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" lang="alan"><code class="language-alan" data-lang="alan"><span class="kr">THE</span><span class="w"> </span><span class="n">cage</span><span class="w"> </span><span class="kr">ISA</span><span class="w"> </span><span class="nb">OBJECT</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">cave</span><span class="w">
  </span><span class="kr">CONTAINER</span><span class="w">
    </span><span class="kr">EXTRACT</span><span class="w">
      </span><span class="kr">CHECK</span><span class="w"> </span><span class="n">cage</span><span class="w"> </span><span class="kr">IS</span><span class="w"> </span><span class="kr">NOT</span><span class="w"> </span><span class="n">locked</span><span class="w">
        </span><span class="kr">ELSE</span><span class="w"> </span><span class="p">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Exiting shouldn&#8217;t be possible if the container is locked/etc. (This could be defined at the library level?)</p>
</div>
<div class="sect2">
<h3 id="_discussion_5"><a class="anchor" href="#_discussion_5"></a>Discussion</h3>
<div class="paragraph">
<p><em>Even if <code>Extract</code> could not handle this, the author could make a check to the <code>Exit</code> statement.
Even now, an actor moving from room to room through a script could move through locked doors if the game author doesn&#8217;t check that it shouldn&#8217;t happen.</em></p>
</div>
<div class="paragraph">
<p>This is the same question a <strong>Question 2</strong>.
The hero would be prohibited by the <code>Extract</code> checks in the same way as <code>Exit</code> checks, but they should be applie first.
Other actors are subject to <code>Extract</code> checks which might abort their step (but might continue, depending on the discussion in <strong>Questions 2</strong>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_6_can_actors_randomly_be_located_in_containers"><a class="anchor" href="#_question_6_can_actors_randomly_be_located_in_containers"></a>Question 6: Can actors randomly be located in containers?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>Will there be a problem with <code>Random</code> in cases such as:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" lang="alan"><code class="language-alan" data-lang="alan"><span class="kr">THE</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="kr">ISA</span><span class="w"> </span><span class="nb">OBJECT</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">room1</span><span class="w">
  </span><span class="kr">CONTAINER</span><span class="w"> </span><span class="kr">TAKING</span><span class="w"> </span><span class="nb">ACTOR</span><span class="p">.</span><span class="w">
</span><span class="kr">END</span><span class="w"> </span><span class="kr">THE</span><span class="p">.</span><span class="w">

</span><span class="kr">VERB</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="kr">DOES</span><span class="w">
  </span><span class="kr">LOCATE</span><span class="w"> </span><span class="kr">RANDOM</span><span class="w"> </span><span class="kr">IN</span><span class="w">  </span><span class="n">box</span><span class="w"> </span><span class="kr">IN</span><span class="w"> </span><span class="nx">hero</span><span class="p">.</span><span class="w">
</span><span class="kr">END</span><span class="w"> </span><span class="kr">VERB</span><span class="p">.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Say there are NPCs in the box (for any reason).
Would the compiler issue any warning, or should there be any reason for it to do so?
If the NPCs are kittens, this wouldn&#8217;t be any problem (the hero could carry the kittens), but what if there is a fat old man in the box?
It wouldn&#8217;t make sense to locate that in the hero.</p>
</div>
<div class="paragraph">
<p>If this is allowed/possible/not avoidable, the game author should maybe account for cases like this by himself?</p>
</div>
</div>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
A: 
</td>
<td class="hdlist2">
<p>No, there will not be any other problems than any other case of randomly picking something from a container even when actors are involved.
The outcome would depend on a lot of other things like checks.
The author needs to take care of this exactly like any other cases using limits or other precautions to not allow what is unreasonable given the game world semantics.
Not a job for the compiler.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_7_is_the_seat_occupied"><a class="anchor" href="#_question_7_is_the_seat_occupied"></a>Question 7: Is the seat occupied?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>If an NPC is scripted to sit down on a chair (container), and the hero is already sitting on that chair, there should be a restriction that the NPC cannot be seated on the same chair.
This is more of a theoretical problem, since the author can prohibit the hero from sitting down in all cases anyway.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
A: 
</td>
<td class="hdlist2">
<p>Same as <strong>Question 6</strong>. Not a job for the compiler.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_question_8_do_limits_apply"><a class="anchor" href="#_question_8_do_limits_apply"></a>Question 8: Do limits apply?</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Q: 
</td>
<td class="hdlist2">
<p>Do <code>Limits</code> - <code>Count</code> apply when an NPC is acting out a script? E.g.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" lang="alan"><code class="language-alan" data-lang="alan"><span class="kr">THE</span><span class="w"> </span><span class="n">seat</span><span class="w"> </span><span class="kr">ISA</span><span class="w"> </span><span class="nb">OBJECT</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">bus</span><span class="w">
    </span><span class="kr">CONTAINER</span><span class="w"> </span><span class="kr">TAKING</span><span class="w"> </span><span class="nb">ACTOR</span><span class="p">.</span><span class="w">
        </span><span class="kr">LIMITS</span><span class="w"> </span><span class="kr">COUNT</span><span class="w"> </span><span class="m">1</span><span class="w">
            </span><span class="kr">ELSE</span><span class="w"> </span><span class="dl">"</span><span class="s2">The seat is already taken.</span><span class="dl">"</span><span class="w">
</span><span class="kr">END</span><span class="w"> </span><span class="kr">THE</span><span class="p">.</span><span class="w">

</span><span class="kr">THE</span><span class="w"> </span><span class="n">passenger</span><span class="w"> </span><span class="kr">ISA</span><span class="w"> </span><span class="nb">ACTOR</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">bus</span><span class="w">
    </span><span class="kr">SCRIPT</span><span class="w"> </span><span class="n">sitting_down</span><span class="w">
        </span><span class="kr">STEP</span><span class="w"> </span><span class="kr">LOCATE</span><span class="w"> </span><span class="n">passenger</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">bus</span><span class="p">.</span><span class="w"> </span><span class="dl">"</span><span class="s2">The passenger enters the bus.</span><span class="dl">"</span><span class="w">
        </span><span class="kr">STEP</span><span class="w"> </span><span class="kr">LOCATE</span><span class="w"> </span><span class="n">passenger</span><span class="w"> </span><span class="kr">AT</span><span class="w"> </span><span class="n">seat</span><span class="p">.</span><span class="w"> </span><span class="dl">"</span><span class="s2">The passenger sits down on the only free seats.</span><span class="dl">"</span><span class="w">
</span><span class="kr">END</span><span class="w"> </span><span class="kr">THE</span><span class="p">.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Would the passenger be located in the seat if someone was already sitting there?</p>
</div>
</div>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
A: 
</td>
<td class="hdlist2">
<p><code>Count</code>, as all <code>Limits</code>, is always considered when locating something in a container.
If there already was <strong>anything</strong> in the seat (had it not been restricted to only take actors, entities say, even an object would count) and this would be the output</p>
<div class="openblock">
<div class="content">
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; z<br>
The passenger enters the bus.<br>
&gt; z<br>
The seat is already taken.<br>
&gt;</p>
</div>
</div>
</div>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that, as discussed previously, the actors script step is aborted.
But depending on the decision in <strong>Question 2</strong> a third step in that script might be next to execute.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a class="anchor" href="#_summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There seems to be quite a few issues to resolve before a complete author/language level design is complete:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Decide where the hero ends up if trying to move through an <code>Exit</code> to another location from inside a container and the <code>Exit</code> checks prohibit this.
In or out of the container.
My suggestion would be to stay put, i.e. in the container.</p>
</li>
<li>
<p>Decide if the current implementation of failing script steps is ok, namely that failing steps are considered completed and execution will continue with the next step in the script, if any.</p>
</li>
<li>
<p>Figure out a simple way to indicate the actors &#8220;containment&#8221; that can be used in explicit descriptions in the same way as an author can add <code>List This.</code> in container descriptions.</p>
</li>
<li>
<p>Find a way to do the amended actor default printout (&#8220;The actor is here.&#8221; or &#8220;The actor is on/in the bed.&#8221;) so that it can be customized as needed and preferably don&#8217;t break backwards compatibility (HARD!)</p>
</li>
<li>
<p>Decide if the containment message should go in the <code>Location</code> header and if so, how would that can be handled. (Probably the same way as the AGAIN message, indicating a new <code>Message</code>.)</p>
</li>
<li>
<p>Figure out a way to let each container decide if instances in it is &#8220;on&#8221; or &#8220;in&#8221; or even &#8220;carried&#8221;.
Note that this is in addition to the current way because the current only prints when listing content, now the container also needs to decide what to say when amending the actors description and the <code>Location</code> header (for the hero).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_decisions_so_far"><a class="anchor" href="#_design_decisions_so_far"></a>Design Decisions (so far&#8230;&#8203;)</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>DD#1</strong>&#8201;&#8212;&#8201;If the hero is in a container and moves extract checks are applied first then exit checks</p>
</li>
<li>
<p><strong>DD#2</strong>&#8201;&#8212;&#8201;If the extract checks prohibit moving the heros move is aborted as if an exit check failed</p>
</li>
<li>
<p><strong>DD#3</strong>&#8201;&#8212;&#8201;If the exit checks fail the hero will remain in the container</p>
</li>
<li>
<p><strong>DD#4</strong>&#8201;&#8212;&#8201;If an actor (not the hero) is in a container and moves extract checks are applied</p>
</li>
<li>
<p><strong>DD#5</strong>&#8201;&#8212;&#8201;If an actor (not the hero) moves out of a container and the extract check fail that action fails and is aborted (event, script step or even a player command that tried to move the actor)</p>
</li>
<li>
<p><strong>DD#6</strong>&#8201;&#8212;&#8201;The location header should be possible to amend with &#8220;(in )&#8221;, probably by adding an author level general amendment message, akin to <code>M_AGAIN</code>.</p>
</li>
<li>
<p><strong>DD#7</strong>&#8201;&#8212;&#8201;The built-in messages should say &#8220;in&#8221;.
The author is responsible for any deviation.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>